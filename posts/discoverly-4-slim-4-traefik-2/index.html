<!doctype html>
<html lang="fr">
  <head>
    <title>Discoverly #4 : Slim 4, Traefik 2... // vaga.io</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.136.0">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Fabien CASTERS" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.5b1fcc8902588589c4767187402a3c29f8b8d7a6fdef6d9f8f77045bb0d14fee.css" />
    

    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Discoverly #4 : Slim 4, Traefik 2...">
  <meta name="twitter:description" content="C’est fait ! La décision a été prise, je ne suis plus un simple salarié. Nous venons de m’embaucher chez Owaka. Cela fait déjà 7 ans que nous avons monté cette entreprise. Je suis le premier salarié et c’est le moment d’accélerer les développements pour faire évoluer plus rapidement notre solution. C’est excitant !
Ce mois-ci, je vais présenter deux projets qui viennent de sortir la version alpha de leur prochaine release majeure.">

    <meta property="og:url" content="https://vaga.io/posts/discoverly-4-slim-4-traefik-2/">
  <meta property="og:site_name" content="vaga.io">
  <meta property="og:title" content="Discoverly #4 : Slim 4, Traefik 2...">
  <meta property="og:description" content="C’est fait ! La décision a été prise, je ne suis plus un simple salarié. Nous venons de m’embaucher chez Owaka. Cela fait déjà 7 ans que nous avons monté cette entreprise. Je suis le premier salarié et c’est le moment d’accélerer les développements pour faire évoluer plus rapidement notre solution. C’est excitant !
Ce mois-ci, je vais présenter deux projets qui viennent de sortir la version alpha de leur prochaine release majeure.">
  <meta property="og:locale" content="fr">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-04-29T00:00:00+00:00">
    <meta property="article:modified_time" content="2019-04-29T00:00:00+00:00">
    <meta property="article:tag" content="Discoverly">
    <meta property="article:tag" content="Slimphp">
    <meta property="article:tag" content="Traefik">
    <meta property="article:tag" content="Devops">
    <meta property="article:tag" content="Php">
    <meta property="article:tag" content="Golang">


  </head>
  <body>
    <header class="app-header">
      <a href="https://vaga.io/"><img class="app-header-avatar" src="/avatar.jpg" alt="Fabien CASTERS" /></a>
      <span class="app-header-title">vaga.io</span>
      <p>I write code and I take care about my privacy // Co-founder @ Owaka // Golang lover // Open source enthusiast</p>
      <div class="app-header-social">
        
          <a href="https://github.com/vaga" target="_blank" rel="noreferrer noopener me">
            <svg class="icon icon-brand-github" viewBox="0 0 24 24" fill="currentColor"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
          </a>
        
          <a href="https://x.com/vaga_io" target="_blank" rel="noreferrer noopener me">
            <svg class="icon icon-brand-x" viewBox="0 0 24 24" fill="currentColor"><title>X</title><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg>
          </a>
        
          <a href="https://bsky.app/profile/vaga.io" target="_blank" rel="noreferrer noopener me">
            <svg class="icon icon-brand-bluesky" viewBox="0 0 24 24" fill="currentColor"><title>Bluesky</title><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"/></svg>
          </a>
        
          <a href="https://www.linkedin.com/in/fabien-casters/" target="_blank" rel="noreferrer noopener me">
            <svg class="icon icon-brand-linkedin" viewBox="0 0 24 24" fill="currentColor"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Discoverly #4 : Slim 4, Traefik 2...</h1>
      <div class="post-meta">
        <div>
          <svg class="icon icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
          Apr 29, 2019
        </div>
        <div>
          <svg class="icon icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>clock</title><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
          3 min read
        </div>
        <div>
          <svg class="icon icon-tag" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>
              <a class="tag" href="https://vaga.io/tags/discoverly/">Discoverly</a>
              <a class="tag" href="https://vaga.io/tags/slimphp/">Slimphp</a>
              <a class="tag" href="https://vaga.io/tags/traefik/">Traefik</a>
              <a class="tag" href="https://vaga.io/tags/devops/">Devops</a>
              <a class="tag" href="https://vaga.io/tags/php/">Php</a>
              <a class="tag" href="https://vaga.io/tags/golang/">Golang</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <p>C&rsquo;est fait ! La décision a été prise, je ne suis plus un simple salarié. Nous venons de m&rsquo;embaucher chez Owaka.
Cela fait déjà 7 ans que nous avons monté cette entreprise. Je suis le premier salarié et c&rsquo;est le moment
d&rsquo;accélerer les développements pour faire évoluer plus rapidement notre solution. C&rsquo;est excitant !</p>
<p>Ce mois-ci, je vais présenter deux projets qui viennent de sortir la version alpha de leur prochaine release majeure.</p>
<h2 id="slim-4">Slim 4</h2>
<p>Slim est un micro framework PHP gérant les couches essentielles d&rsquo;une application HTTP. (routeur, middleware et injection de dépendance)
La version 4 apporte beaucoup de modularité et d&rsquo;amélioration.</p>
<p>Maintenant, le framework requiert la version PHP 7.1 au minimum. Il est maintenant centré sur les middlewares. Beaucoup de configurations
sont retirées et remplacées par l&rsquo;implémentation de middleware. Par exemple, la gestion d&rsquo;erreurs a été migrée dans un middleware.
Cela va permettre de mieux customiser et intéragir avec les exceptions.</p>
<p>Ils ont aussi découplé les dépendances et amélioré l&rsquo;interopérabilité des implémentations (PSR-7, PSR-11, PSR-15, PSR-17 et aussi
sur les interfaces du routeur). Malgré tout, l&rsquo;instanciation d&rsquo;une application Slim reste simple grâce à une factory. (<code>AppFactory::create()</code>)</p>
<p>Ces changements ont rendu le code de Slim plus lisible. On le voit clairement grâce à un benchmark qu&rsquo;Akrabat a publié sur son blog :</p>
<pre tabindex="0"><code>                                    Slim 3    Slim 4-dev
Cyclomatic Complexity
  Average Complexity per LLOC         0.30          0.18
  Average Complexity per Class       10.40          4.76
    Minimum Class Complexity          1.00          1.00
    Maximum Class Complexity         67.00         25.00
  Average Complexity per Method       2.44          2.05
    Minimum Method Complexity         1.00          1.00
    Maximum Method Complexity        15.00         15.00
</code></pre><p>Source : <a href="https://gist.github.com/akrabat/6b486ecd861105301a194cbf1e360dc4">Slim 3 vs Slim 4-dev phploc</a></p>
<p>C&rsquo;est pour moi une excellente nouvelle version : plus de modularité, plus de qualité et moins de code. J&rsquo;ai hâte de pouvoir migrer vers
la version stable.</p>
<p>Quelques liens pour plus de détails :</p>
<ul>
<li><a href="http://www.slimframework.com/2019/04/25/slim-4.0.0-alpha-release.html">Slim 4.0.0-alpha released</a></li>
<li><a href="http://dev.slimframework.com/docs/v4/">Slim 4 documentation</a></li>
<li><a href="https://akrabat.com/slim-4-cyclomatic-complexity/">Slim 4 Cyclomatic Complexity</a></li>
</ul>
<h2 id="traefik-2">Traefik 2</h2>
<p>Traefik est un reverse proxy dynamique compatible avec plusieurs providers (Swarm, Rancher, Kubernetes, Consul, Etcd&hellip;)</p>
<p>Cette nouvelle version arrive avec une fonctionnalité que la communauté attendait depuis 2015, c&rsquo;est le support complet du protocol TCP.</p>
<p>Ensuite, elle vient améliorer les étapes intermédiaires entre le frontend et le backend pour plus de modularité. Elle ajoute des middlewares
pour mettre à jour les requêtes (basic auth, redirection, compression&hellip;). Grâce à cette refactorisation, ils annoncent pouvoir ajouter
des middlewares plus facilement dans un futur proche. Ils améliorent aussi la syntaxe des règles pour rediriger les requêtes vers les bons services.</p>
<p>Cependant, toutes les features ne sont pas encore terminées. Ils doivent encore ajouter quelques providers présents dans la première version.
Ils ont annoncé l&rsquo;ajout du support du protocol UDP, l&rsquo;ajout d&rsquo;une fonctionnalité de canary et l&rsquo;amélioration de l&rsquo;interface.</p>
<p>C&rsquo;est encore pour moi une excellente nouvelle. Traefik garde sa simplicité et apporte avec efficacité des nouvelles fonctionnalités très attendues.
Personnellement, je suis impatient de voir leur fonctionnalité de canary.</p>
<p>Quelques liens pour plus de détails :</p>
<ul>
<li><a href="https://blog.containo.us/back-to-traefik-2-0-2f9aa17be305">Back to Traefik 2.0</a></li>
<li><a href="https://docs.traefik.io/v2.0/">Traefik 2 documentation</a></li>
</ul>
<h2 id="quelques-articles-en-vrac">Quelques articles en vrac</h2>
<ul>
<li><a href="https://k3s.io/">Projet : K3s Lightweight Kubernetes</a></li>
<li><a href="https://threadreaderapp.com/thread/1113079690472943617.html">Thread Twitter : #ClavierFrançais</a></li>
</ul>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
